<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Firebase App is always required and must be first -->
<script src="https://www.gstatic.com/firebasejs/5.3.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.3.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.3.0/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.3.0/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.3.0/firebase-messaging.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.3.0/firebase-functions.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.3.0/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyCHp1k5QEGy-jyYJ_WxxahkoSjHu5_giUc",
    authDomain: "hw4summer-ab794.firebaseapp.com",
    databaseURL: "https://hw4summer-ab794.firebaseio.com",
    projectId: "hw4summer-ab794",
    storageBucket: "hw4summer-ab794.appspot.com",
    messagingSenderId: "219890024112"
  };
  firebase.initializeApp(config);
</script>
<script src="https://cdn.firebase.com/libs/firebaseui/3.1.1/firebaseui.js"></script>
<link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.1.1/firebaseui.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="/style.css" />
        <link href='https://fonts.googleapis.com/css?family=Gravitas%20One' rel='stylesheet'>
</head>
<body>
     <h1><img src="media/software.png" class="icon" alt="icon">
Issue Tracker</h1>
    <br>
    <br>
	<label>Email address</label>
        <br>
        <input type="text" name="name" id="email"><br>
	<label>Password</label>
        <a href="forgotPassword.html" >Forgot Password?</a>  
        <br>
        <input type="password" name="password" id="password"/> 
        <br>
        <br>
	Â <button id="login">login</button>
        <br>
        <br>
        <label>New to Issue Tracker?</label>
        <a href ="signUp.html">Create an account.</a>

	<script>
		const auth = firebase.auth();
		var errorCode;
		document.getElementById("login").addEventListener('click', e=>{
  		var email = document.getElementById("email").value;
  		var pass = document.getElementById("password").value;
		firebase.auth().signInWithEmailAndPassword(email, pass).then(function(){window.location = 'issueTracker.html'   }).catch(function(error){ 
 		var errorMessage = error.message;
		alert(errorMessage); });
		firebase.auth().signInWithEmailAndPassword(email, pass).catch(function(error){ errorCode = error.code;
  		var errorMessage = error.message;
		});
	});


	window.onload = function() {
		firebase.auth().onAuthStateChanged(user=>{ 
  		if(user){
				var uid = user.uid;
  			} else{
 		}
	})
	}
		function login() {
			var email = document.getElementById("email").value;
			var password = document.getElementById("password").value;
			firebase.auth().signInWithEmailAndPassword(email, password).catch(function(error) {
  			var errorCode = error.code;
  			var errorMessage = error.message;
			alert(errorCode);
		});			
		}
	</script>
	<noscript>For full functionality, please enable JavaScript.</noscript>
<div id="firebaseui-auth-container"></div>  
</body>
</html>
